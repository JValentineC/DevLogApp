import{j as e}from"./ui-components-CFi1doLQ.js";import{u as P,e as C,a as o,L as E}from"./react-vendor-CLgcRim_.js";import"./utils-CNhSrtIM.js";const U=()=>{const[d]=P(),v=C(),[r,g]=o.useState(""),[n,R]=o.useState(""),[l,h]=o.useState(""),[p,a]=o.useState(""),[f,D]=o.useState(""),[i,N]=o.useState(!1),[c,b]=o.useState(!1);o.useEffect(()=>{const s=d.get("token");s?g(s):a("Invalid or missing reset token")},[d]);const w=s=>s.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(s)?/[a-z]/.test(s)?/[0-9]/.test(s)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",A=s=>{if(s.length===0)return"";if(s.length<8)return"weak";let t=0;return/[a-z]/.test(s)&&t++,/[A-Z]/.test(s)&&t++,/[0-9]/.test(s)&&t++,/[^A-Za-z0-9]/.test(s)&&t++,s.length>=12&&t++,t<=2?"weak":t<=3?"medium":"strong"},x=async s=>{if(s.preventDefault(),a(""),D(""),!r){a("Invalid or missing reset token");return}if(n!==l){a("Passwords do not match");return}const t=w(n);if(t){a(t);return}N(!0);try{const m=await fetch("https://devlogs-api.nfshost.com/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:n})}),L=await m.json();m.ok?(D("Password reset successful! Redirecting to login..."),setTimeout(()=>{v("/")},2e3)):a(L.message||"Failed to reset password")}catch(m){a("An error occurred. Please try again later."),console.error("Reset password error:",m)}finally{N(!1)}},u=A(n);return e.jsxDEV("div",{className:"reset-password-container",children:e.jsxDEV("div",{className:"reset-password-card",children:[e.jsxDEV("h1",{children:"Create New Password"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:118,columnNumber:9},void 0),e.jsxDEV("p",{className:"reset-password-description",children:"Enter your new password below."},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:119,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:x,className:"reset-password-form",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"newPassword",children:"New Password"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV("div",{className:"password-input-wrapper",children:[e.jsxDEV("input",{type:c?"text":"password",id:"newPassword",value:n,onChange:s=>R(s.target.value),placeholder:"Enter new password",required:!0,disabled:i||!r},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:127,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",className:"toggle-password",onClick:()=>b(!c),disabled:i||!r,children:c?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:136,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:126,columnNumber:13},void 0),n&&e.jsxDEV("div",{className:`password-strength ${u}`,children:[e.jsxDEV("div",{className:"strength-bars",children:[e.jsxDEV("div",{className:"strength-bar"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:148,columnNumber:19},void 0),e.jsxDEV("div",{className:"strength-bar"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:149,columnNumber:19},void 0),e.jsxDEV("div",{className:"strength-bar"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:150,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:147,columnNumber:17},void 0),e.jsxDEV("span",{className:"strength-label",children:u.charAt(0).toUpperCase()+u.slice(1)},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:124,columnNumber:11},void 0),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"confirmPassword",children:"Confirm Password"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:161,columnNumber:13},void 0),e.jsxDEV("input",{type:c?"text":"password",id:"confirmPassword",value:l,onChange:s=>h(s.target.value),placeholder:"Confirm new password",required:!0,disabled:i||!r},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:162,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:160,columnNumber:11},void 0),e.jsxDEV("div",{className:"password-requirements",children:[e.jsxDEV("p",{children:"Password must contain:"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:174,columnNumber:13},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{className:n.length>=8?"met":"",children:"At least 8 characters"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:176,columnNumber:15},void 0),e.jsxDEV("li",{className:/[A-Z]/.test(n)?"met":"",children:"One uppercase letter"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:179,columnNumber:15},void 0),e.jsxDEV("li",{className:/[a-z]/.test(n)?"met":"",children:"One lowercase letter"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:182,columnNumber:15},void 0),e.jsxDEV("li",{className:/[0-9]/.test(n)?"met":"",children:"One number"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:185,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:175,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:173,columnNumber:11},void 0),p&&e.jsxDEV("div",{className:"error-message",children:p},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:191,columnNumber:21},void 0),f&&e.jsxDEV("div",{className:"success-message",children:f},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:192,columnNumber:23},void 0),e.jsxDEV("button",{type:"submit",className:"submit-button",disabled:i||!r||!n||!l,children:i?"Resetting...":"Reset Password"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:123,columnNumber:9},void 0),e.jsxDEV("div",{className:"reset-password-footer",children:e.jsxDEV(E,{to:"/",className:"back-to-login",children:"‚Üê Back to Login"},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:204,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:203,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:117,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/JonathanRamirez/Documents/Applications/DevLogReactApp/DevLogs/src/components/ResetPassword.tsx",lineNumber:116,columnNumber:5},void 0)};export{U as default};
